<!DOCTYPE html>
<html lang="en">
  <head>
    <title>xDiffCollection  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="xDiffCollection  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">xDiffCollection 1.0 Docs</a> (43% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">xDiffCollection Reference</a>
        <img id="carat" src="img/carat.png" />
        xDiffCollection  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/DiffCollection.html">DiffCollection</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/BinUpdateResult.html">BinUpdateResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CollectionBin.html">CollectionBin</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CollectionChanges.html">CollectionChanges</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Diff.html">Diff</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DiffCollectionFilter.html">DiffCollectionFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DiffCollectionSnapshot.html">DiffCollectionSnapshot</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:15xDiffCollection0B6Filtera">CollectionFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:15xDiffCollection0B4Sorta">CollectionSort</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:15xDiffCollection0aB0a">DiffCollection</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:15xDiffCollection0aB6Resulta">DiffCollectionResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:15xDiffCollection0aB4Sorta">DiffCollectionSort</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='xdiffcollection' class='heading'>xDiffCollection</h1>

<p><a href="https://cocoapods.org/pods/xDiffCollection"><img src="https://img.shields.io/cocoapods/v/SwiftyCollection.svg?style=flat" alt="Version"></a>
<a href="https://cocoapods.org/pods/xDiffCollection"><img src="https://img.shields.io/cocoapods/l/SwiftyCollection.svg?style=flat" alt="License"></a>
<a href="https://cocoapods.org/pods/xDiffCollection"><img src="https://img.shields.io/cocoapods/p/SwiftyCollection.svg?style=flat" alt="Platform"></a></p>
<h2 id='description' class='heading'>Description</h2>

<p>xDiffCollection operates on the concept of bins. A bin is an array and a filter. 
Elements that go in those bins are hashable identifiable and equatable differentiable.
The filter accepts elements into a bin based on a custom logic provided via a boolean closure.</p>

<p>xDiffCollection exposes two operations: update and delete (update can also add an element if the element passes the test and 
the element is not previously there)</p>

<p>If the element was already there and an update operation is performed, the logic in the bin is re-run to decide if this is 
still the appropriate bin for that updated element or not. If it is not, the element is deleted from the current bin and moved
to a bin where the updated element passes another&rsquo;s bin logic.</p>
<h3 id='main-mutating-methods' class='heading'>Main Mutating Methods</h3>

<ul>
<li><code>mutating func update(element:T) -&gt; DiffCollectionResult</code></li>
<li><code>mutating func delete(element:T) -&gt; DiffCollectionResult</code></li>
</ul>
<h3 id='element-accessing-methods' class='heading'>Element Accessing Methods</h3>

<ul>
<li><code>func element(atIndexPath path: IndexPath) -&gt; T?</code></li>
<li><code>func numberOfElements(inSection binIndex:Int) -&gt; Int</code></li>
<li><code>func numberOfSections() -&gt; Int</code></li>
</ul>
<h2 id='example' class='heading'>Example</h2>

<p>After installing xDiffCollection, just include it via:</p>
<pre class="highlight ruby"><code><span class="n">import</span> <span class="n">xDiffCollection</span>
</code></pre>

<p>Create some DiffCollectionFilters:</p>
<pre class="highlight ruby"><code><span class="n">let</span> <span class="n">f1</span> <span class="o">=</span> <span class="no">DiffCollectionFilter</span><span class="o">&lt;</span><span class="no">TestObject</span><span class="o">&gt;</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"Starts with a"</span><span class="p">,</span> <span class="n">filter</span><span class="p">:{</span> <span class="n">s</span> <span class="k">in</span>
    <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">starts</span><span class="p">(</span><span class="ss">with: </span><span class="s2">"a"</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kp">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kp">false</span>
<span class="p">})</span>

<span class="n">let</span> <span class="n">f2</span> <span class="o">=</span> <span class="no">DiffCollectionFilter</span><span class="o">&lt;</span><span class="no">TestObject</span><span class="o">&gt;</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"Starts with b"</span><span class="p">,</span> <span class="n">filter</span><span class="p">:{</span> <span class="n">s</span> <span class="k">in</span>
    <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">starts</span><span class="p">(</span><span class="ss">with: </span><span class="s2">"b"</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kp">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kp">false</span>
<span class="p">})</span>

<span class="n">let</span> <span class="n">f3</span> <span class="o">=</span> <span class="no">DiffCollectionFilter</span><span class="o">&lt;</span><span class="no">TestObject</span><span class="o">&gt;</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"Starts with c"</span><span class="p">,</span> <span class="n">filter</span><span class="p">:{</span> <span class="n">s</span> <span class="k">in</span>
    <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">starts</span><span class="p">(</span><span class="ss">with: </span><span class="s2">"c"</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kp">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kp">false</span>
<span class="p">})</span>
</code></pre>

<p>Instanciate your collection using those filters:</p>
<pre class="highlight ruby"><code><span class="n">let</span> <span class="n">myCollection</span> <span class="o">=</span> <span class="no">DiffCollection</span><span class="p">(</span><span class="ss">filters: </span><span class="p">[</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">,</span><span class="n">f3</span><span class="p">])</span>
</code></pre>

<p>And start using your collection:</p>
<pre class="highlight ruby"><code><span class="n">let</span> <span class="n">result</span> <span class="p">:</span> <span class="no">DiffCollectionResult</span> <span class="o">=</span> <span class="n">myCollection</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="ss">element: </span><span class="no">TestObject</span><span class="p">())</span>
</code></pre>

<p>Where</p>
<pre class="highlight ruby"><code><span class="kp">public</span> <span class="n">struct</span> <span class="no">DiffCollectionResult</span> <span class="p">{</span>
    <span class="kp">public</span> <span class="n">var</span> <span class="ss">deleted: </span><span class="p">[</span><span class="no">IndexPath</span><span class="p">]</span>
    <span class="kp">public</span> <span class="n">var</span> <span class="ss">added: </span><span class="p">[</span><span class="no">IndexPath</span><span class="p">]</span>
    <span class="kp">public</span> <span class="n">var</span> <span class="ss">updated: </span><span class="p">[</span><span class="no">IndexPath</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>And IndexPath.section represents the storage bin in myCollection,
and IndexPath.row the position of an element within its bin. </p>
<h2 id='installation' class='heading'>Installation</h2>

<p>xDiffCollection is available through <a href="https://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'xDiffCollection'</span>
</code></pre>
<h2 id='author' class='heading'>Author</h2>

<p>ALDO Inc., <a href="mailto:aldodev@aldogroup.com">aldodev@aldogroup.com</a></p>
<h2 id='license' class='heading'>License</h2>

<p>xDiffCollection is available under the MIT license. See the LICENSE file for more info.</p>

          </section>
        </section>
        <section id="footer">
          <p>Copyright message here</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
